"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[34],{2034:function(s,t,e){e.r(t),e.d(t,{default:function(){return T},withRouter:function(){return B}});var r=e(5671),n=e(3144),u=e(136),i=e(516),o=e(1413),a=e(2791),p=e(8687),c=e(8859),d="MyPosts_postsBlock__ayUrs",l="MyPosts_posts__A-UrO",f="Post_item__BfTuB",h=e(184),m=function(s){return(0,h.jsxs)("div",{className:f,children:[s.message,(0,h.jsx)("img",{src:"https://img.freepik.com/premium-vector/woman-avatars-with-different-emotions-girl-with-spring-or-summer-flowers-and-a-wreath-in-black-hair_427567-1481.jpg"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",s.likesCount]})]})},x=e(6139),j=e(704),v=e(5304),P=e(2781),g=a.memo((function(s){var t=s.postData.map((function(s){return(0,h.jsx)(m,{message:s.message,likesCount:s.likesCount})}));return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(U,{onSubmit:function(t){s.addPost(t.profileAddNewPost)}})}),(0,h.jsx)("div",{className:l,children:t})]})})),U=(0,j.Z)({form:"addNewPostForm"})((function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(x.Z,{component:P.gx,name:"profileAddNewPost",validate:[v.C,(0,v.D)(10)]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),k=g,S=(0,p.$j)((function(s){return{postData:s.profilePage.postData,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,c.Wl)(t))}}}))(k),_="ProfileInfo_descriptionDblock__sBexp",w=e(4349),Z=(a.Component,e(9439)),C=function(s){var t=(0,a.useState)(!1),e=(0,Z.Z)(t,2),r=e[0],n=e[1],u=(0,a.useState)(s.status),i=(0,Z.Z)(u,2),o=i[0],p=i[1];(0,a.useEffect)((function(){p(s.status)}),[s.status]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"No status"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(s){p(s.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),s.updateUserStatus(o)},value:o})})]})},y=function(s){var t=s.userProfile,e=s.status,r=s.updateUserStatus;return t?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("img",{src:t.photos.large}),(0,h.jsx)(C,{status:e,updateUserStatus:r})]})}):(0,h.jsx)(w.Z,{})},b=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)(y,{userProfile:s.userProfile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,h.jsx)(S,{})]})},N=e(5772),D=e(1466),A=e(7781);function B(s){return function(t){var e={params:(0,N.UO)()};return(0,h.jsx)(s,(0,o.Z)((0,o.Z)({},t),{},{match:e}))}}var I=function(s){(0,u.Z)(e,s);var t=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"render",value:function(){return(0,h.jsx)(b,(0,o.Z)((0,o.Z)({},this.props),{},{userProfile:this.props.userProfile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(a.Component),T=(0,A.qC)((0,p.$j)((function(s){return{userProfile:s.profilePage.userProfile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL}),B,D.e)(I)}}]);
//# sourceMappingURL=34.e58c82d2.chunk.js.map